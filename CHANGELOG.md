# 版本历史

## v2.0.1 (2026-01-15) 🐛

### Bug 修复
- **农历日期修复**: 使用 zhdate 库获取真实农历日期
  - 修复硬编码"乙巳年"的问题，现在动态获取正确的农历年份
  - 修复使用公历月日代替农历月日的问题
  - 影响文件: `auto_daily_news.py`, `test_date_logic.py`, `rss_news_collector.py`
- **依赖更新**: 在 GitHub Actions 中添加 zhdate 库依赖
  - 确保自动化任务中农历日期功能正常工作

### 技术细节
- 新增依赖: `zhdate==0.1`
- 农历日期格式: "二零二五年十一月二十七"（示例）
- 自动适配年份变化，无需手动更新

---

## v2.0.0 (2026-01-14) 🚀

### 核心功能重构
- **RSS 真实新闻源**: 替换 AI 生成，使用 12+ 权威 RSS 源收集真实新闻
  - 量子位、机器之心、36氪、虎嗅、钛媒体、爱范儿
  - TechCrunch、The Verge、Bloomberg、华尔街见闻
- **精准日期过滤**: 确保只收集昨天一整天的新闻（00:00:00 - 23:59:59）
- **AI 智能分类**: 使用豆包 API 将新闻智能分类到 3 个类别
- **去重机制**: 基于标题的智能去重，避免重复内容

### 安全性修复
- **移除硬编码 API key**: 所有文件中的 API key 已移除
- **环境变量验证**: 添加启动时的环境变量检查
- **文档安全**: 所有示例使用占位符而非真实 key

### HTML 模板优化
- **渐变标签设计**: 三个分类使用不同渐变色（紫色/粉红/蓝色）
- **日期卡片**: 粉绿渐变背景，显示农历/星期/公历
- **微语卡片**: 粉黄渐变背景，AI 生成励志语录
- **编号系统**: 每条新闻带彩色编号（01-05）
- **移除冗余**: 去除标题重复和多余的"以下是..."字样

### 部署优化
- **GitHub Actions**: 每天 08:00 自动运行（UTC 00:00）
- **本地任务清理**: 删除本地 launchd 任务，避免重复执行
- **日志系统**: 完整的运行日志记录

### 文件结构
- **新增**: `rss_news_collector.py` - RSS 新闻收集脚本
- **新增**: `CHANGELOG.md` - 版本历史记录
- **优化**: `SKILL.md` - 更新为 V2.0.0

---

## v1.0.0 (2026-01-12)
- 初始版本
- 基于 WebSearch 的新闻收集
- 基础 HTML 格式化
- 公众号发布功能
